<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>AI Code Sentinel ‚Äî Prompt Factory (Rescue)</title>
  <meta name="description" content="Generador de prompts (MASTER y META) en un solo archivo. Rescue build."/>
  <style>
    :root{
      --bg:#0b1220; --panel:#0f1b33; --border:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.92); --muted:rgba(255,255,255,.65);
      --accent:#57d3ff; --accent2:#6c8cff; --shadow:0 12px 28px rgba(0,0,0,.45);
      --r:16px; --mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --sans: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:var(--sans); color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% 0%, rgba(87,211,255,.14), transparent 60%),
        radial-gradient(1000px 500px at 100% 10%, rgba(108,140,255,.12), transparent 55%),
        var(--bg);
      padding:18px;
    }
    .wrap{max-width:1200px;margin:0 auto}
    .top{
      display:flex;justify-content:space-between;align-items:center;gap:12px;
      padding:14px 16px;border:1px solid var(--border);border-radius:var(--r);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow:var(--shadow);
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:40px;height:40px;border-radius:12px;
      background:radial-gradient(circle at 30% 30%, #7ef3ff, #2b77ff 65%, #152049);
      border:1px solid rgba(255,255,255,.18);
      box-shadow:0 10px 24px rgba(87,211,255,.18);
    }
    h1{margin:0;font-size:14px;letter-spacing:.12em;text-transform:uppercase}
    .sub{margin:3px 0 0 0;color:var(--muted);font-size:12px}
    .pill{padding:7px 10px;border:1px solid var(--border);border-radius:999px;background:rgba(255,255,255,.04);font-size:12px;color:var(--muted)}
    .grid{display:grid;grid-template-columns:1.05fr .95fr;gap:14px;margin-top:14px}
    @media(max-width:980px){.grid{grid-template-columns:1fr}}
    .card{
      border:1px solid var(--border);border-radius:var(--r);overflow:hidden;
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow:var(--shadow);
    }
    .head{padding:14px 16px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
    .head b{font-size:14px}
    .content{padding:14px 16px}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    input,select,textarea{
      width:100%;padding:10px 10px;border-radius:12px;
      border:1px solid rgba(255,255,255,.14);background:rgba(10,18,34,.55);
      color:rgba(255,255,255,.92);outline:none;
    }
    textarea{min-height:84px;resize:vertical}
    .form{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media(max-width:780px){.form{grid-template-columns:1fr}}
    .row2{grid-column:1/-1}
    .modes{display:flex;gap:8px;flex-wrap:wrap}
    .btn{
      border:1px solid var(--border);background:rgba(255,255,255,.04);color:rgba(255,255,255,.88);
      padding:8px 12px;border-radius:999px;font-weight:800;font-size:12px;cursor:pointer;
    }
    .btn.active{border-color:rgba(87,211,255,.55);background:rgba(87,211,255,.12)}
    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .action{
      border:1px solid rgba(87,211,255,.35);background:rgba(87,211,255,.12);
      color:#eaffff;padding:10px 12px;border-radius:12px;font-weight:900;font-size:12px;cursor:pointer;
    }
    .action.secondary{border-color:rgba(255,255,255,.16);background:rgba(255,255,255,.04);font-weight:800;color:rgba(255,255,255,.86)}
    pre{
      margin:0;padding:14px;border-radius:14px;border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.20);overflow:auto;font-family:var(--mono);font-size:12px;line-height:1.45;white-space:pre-wrap;word-break:break-word;
    }
    .hint{font-size:12px;color:var(--muted);margin-top:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <h1>AI CODE SENTINEL ‚Äî PROMPT FACTORY</h1>
          <div class="sub">RESCUE BUILD: un solo archivo, bot√≥n Generar garantizado ‚úÖ</div>
        </div>
      </div>
      <div class="pill" id="ver">v-rescue</div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="head">
          <div>
            <b>Entrada</b>
            <div class="sub">Llena lo m√≠nimo y genera MASTER o META.</div>
          </div>
          <div class="modes">
            <button class="btn active" id="mMaster">MASTER</button>
            <button class="btn" id="mMeta">META</button>
          </div>
        </div>

        <div class="content">
          <div class="form">
            <div>
              <label>Factory</label>
              <select id="factory">
                <option value="CODE">C√≥digo (web/apps/backend)</option>
                <option value="IMAGE">Im√°genes</option>
                <option value="VIDEO">Video</option>
                <option value="WORKFLOW">Workflows</option>
              </select>
            </div>
            <div>
              <label>IA destino</label>
              <select id="ia">
                <option value="agnostico">Cualquier IA (agn√≥stico)</option>
                <option value="chatgpt">ChatGPT</option>
                <option value="claude">Claude</option>
                <option value="gemini">Gemini</option>
                <option value="copilot">Copilot</option>
              </select>
            </div>

            <div>
              <label>Marca</label>
              <input id="marca" value="Garc√≠a y Asociados"/>
            </div>
            <div>
              <label>Ciudad</label>
              <input id="ciudad" value="Ciudad Ju√°rez"/>
            </div>

            <div class="row2">
              <label>Objetivo</label>
              <input id="objetivo" value="Crear una landing para buffet de abogados que capte leads por WhatsApp"/>
            </div>

            <div>
              <label>WhatsApp (sin +)</label>
              <input id="wa" value="526568239431"/>
            </div>
            <div>
              <label>Email</label>
              <input id="email" value="eduardorodarteq@gmail.com"/>
            </div>

            <div class="row2">
              <label>Servicios (coma)</label>
              <input id="servicios" value="Civil, Mercantil, Laboral"/>
            </div>

            <div class="row2">
              <label>Notas extra (para ‚Äúm√∫sica/locutor‚Äù, etc.)</label>
              <textarea id="notas" placeholder="Ej: incluir audio opcional y texto de locutor de bienvenida..."></textarea>
            </div>
          </div>

          <div class="actions">
            <button class="action" id="gen">Generar</button>
            <button class="action secondary" id="copy">Copiar</button>
            <button class="action secondary" id="test">Test r√°pido</button>
          </div>

          <div class="hint" id="hint"></div>
        </div>
      </div>

      <div class="card">
        <div class="head">
          <div>
            <b>Salida</b>
            <div class="sub" id="outSub">MASTER: 1 bloque listo para pegar.</div>
          </div>
        </div>
        <div class="content">
          <pre id="out">Haz clic en ‚ÄúGenerar‚Äù.</pre>
        </div>
      </div>
    </div>
  </div>

<script>
(() => {
  const $ = (id)=>document.getElementById(id);
  let MODE = "MASTER";
  const out = $("out");
  const hint = $("hint");

  function setMode(m){
    MODE = m;
    $("mMaster").classList.toggle("active", m==="MASTER");
    $("mMeta").classList.toggle("active", m==="META");
    $("outSub").textContent = m==="MASTER"
      ? "MASTER: 1 bloque listo para pegar."
      : "META: meta-brief + meta-prompt (para fabricar master prompt).";
  }

  function data(){
    return {
      factory: $("factory").value,
      ia: $("ia").value,
      marca: $("marca").value.trim() || "(sin marca)",
      ciudad: $("ciudad").value.trim() || "(sin ciudad)",
      objetivo: $("objetivo").value.trim() || "(sin objetivo)",
      wa: $("wa").value.trim() || "(sin whatsapp)",
      email: $("email").value.trim() || "(sin email)",
      servicios: $("servicios").value.trim() || "(sin servicios)",
      notas: $("notas").value.trim() || "(sin notas)"
    };
  }

  function buildMaster(d){
    return [
`=== BRIEF ===
Marca: ${d.marca}
Ciudad: ${d.ciudad}
Objetivo: ${d.objetivo}
Servicios: ${d.servicios}
WhatsApp: ${d.wa}
Email: ${d.email}
Notas: ${d.notas}

=== PROMPT MAESTRO ===
Rol: Eres un dise√±ador + copywriter + front-end senior.
Reglas:
- Responde en espa√±ol.
- Sin backend, sin frameworks, un solo index.html (HTML+CSS+JS).
- Est√©tica premium (oscuro elegante, acentos sutiles).
- Incluye: bot√≥n WhatsApp funcional (con mensaje prellenado), formulario (front-end), animaciones sutiles (scroll reveal), navegaci√≥n suave.
- A√±ade SEO b√°sico (title/description/OG) y footer legal simple.
- Entrega: SOLO el c√≥digo completo del index.html y nada m√°s.

Tarea:
Con el BRIEF, genera el index.html completo listo para GitHub Pages.`
    ].join("");
  }

  function buildMeta(d){
    const metaBrief =
`=== META-BRIEF ===
Objetivo: fabricar el mejor MASTER PROMPT para este proyecto y luego ejecutarlo.
Destino: ${d.ia}
Factory: ${d.factory}
Restricciones: sin backend, sin frameworks, un solo index.html
Calidad: est√©tica premium + cero huecos

=== PROJECT BRIEF ===
Marca: ${d.marca}
Ciudad: ${d.ciudad}
Objetivo: ${d.objetivo}
Servicios: ${d.servicios}
WhatsApp: ${d.wa}
Email: ${d.email}
Notas: ${d.notas}`;

    const metaPrompt =
`=== META-PROMPT ===
Tu rol: Arquitecto de prompts.
1) Devuelve un MASTER PROMPT final (listo para pegar) que fuerce: est√©tica premium, m√≥dulos completos, y cero huecos.
2) Luego ejecuta el proyecto: entrega SOLO el index.html completo.
Reglas:
- Espa√±ol
- Sin backend / sin frameworks
- WhatsApp con link real + mensaje prellenado
- Form con validaci√≥n front-end
- Scroll reveal sin librer√≠as
- Smooth scroll
- SEO b√°sico + footer legal
Salida en este orden:
A) MASTER PROMPT
B) index.html completo`;

    return `${metaBrief}\n\n${metaPrompt}`;
  }

  function generate(){
    const d = data();
    const txt = MODE==="MASTER" ? buildMaster(d) : buildMeta(d);
    out.textContent = txt;
    hint.textContent = "‚úÖ Generado. Ahora p√©galo en tu IA y pide la salida (index.html).";
  }

  function copy(){
    navigator.clipboard.writeText(out.textContent).then(()=>{
      hint.textContent = "üìã Copiado al portapapeles.";
    }).catch(()=>{
      hint.textContent = "No se pudo copiar. Selecciona el texto y copia manual.";
    });
  }

  function test(){
    // prueba visible para ti: si esto cambia, el JS s√≠ est√° vivo
    hint.textContent = "‚úÖ TEST OK: el JavaScript est√° funcionando en esta p√°gina.";
  }

  $("mMaster").addEventListener("click", ()=>setMode("MASTER"));
  $("mMeta").addEventListener("click", ()=>setMode("META"));
  $("gen").addEventListener("click", generate);
  $("copy").addEventListener("click", copy);
  $("test").addEventListener("click", test);

  setMode("MASTER");
})();
</script>
</body>
</html>
